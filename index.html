<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Efeito VÃ­rgula â€” Consultor de Palestras</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0f0b1a;
      --bg2: #1a1428;
      --surface: #221b35;
      --border: rgba(160, 120, 255, 0.15);
      --accent: #b06aff;
      --accent2: #7c3aed;
      --accent-glow: rgba(176, 106, 255, 0.3);
      --text: #f0eaf8;
      --text-muted: #8b7fa8;
      --user-bubble: #2d1f4e;
      --ai-bubble: #1e1630;
    }

    html, body {
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: 'DM Sans', sans-serif;
      font-weight: 300;
      overflow: hidden;
    }

    /* Subtle background grain */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 0;
    }

    .layout {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      height: 100vh;
      max-width: 860px;
      margin: 0 auto;
      padding: 0 16px;
    }

    /* HEADER */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 0 16px;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-mark {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Syne', sans-serif;
      font-weight: 800;
      font-size: 18px;
      color: white;
      letter-spacing: -1px;
    }

    .logo-text {
      font-family: 'Syne', sans-serif;
      font-weight: 700;
      font-size: 17px;
      letter-spacing: -0.3px;
    }

    .logo-text span {
      color: var(--accent);
    }

    .header-tag {
      font-size: 11px;
      font-weight: 500;
      color: var(--text-muted);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      border: 1px solid var(--border);
      padding: 4px 10px;
      border-radius: 20px;
    }

    /* CHAT AREA */
    .chat-area {
      flex: 1;
      overflow-y: auto;
      padding: 28px 0 16px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      scrollbar-width: thin;
      scrollbar-color: var(--surface) transparent;
    }

    .chat-area::-webkit-scrollbar { width: 4px; }
    .chat-area::-webkit-scrollbar-track { background: transparent; }
    .chat-area::-webkit-scrollbar-thumb { background: var(--surface); border-radius: 4px; }

    /* Welcome state */
    .welcome {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
      text-align: center;
      padding: 40px 20px;
      animation: fadeUp 0.6s ease both;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .welcome-icon {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      margin-bottom: 24px;
      box-shadow: 0 0 40px var(--accent-glow);
    }

    .welcome h1 {
      font-family: 'Syne', sans-serif;
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 10px;
      letter-spacing: -0.5px;
    }

    .welcome h1 span { color: var(--accent); }

    .welcome p {
      color: var(--text-muted);
      font-size: 15px;
      max-width: 420px;
      line-height: 1.6;
      margin-bottom: 32px;
    }

    .suggestion-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      max-width: 560px;
    }

    .chip {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 13px;
      padding: 8px 14px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.2s;
      font-family: 'DM Sans', sans-serif;
    }

    .chip:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: rgba(176, 106, 255, 0.08);
    }

    /* Messages */
    .message {
      display: flex;
      gap: 12px;
      animation: fadeUp 0.3s ease both;
    }

    .message.user { flex-direction: row-reverse; }

    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 10px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 700;
      font-family: 'Syne', sans-serif;
    }

    .avatar.ai {
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      color: white;
    }

    .avatar.user-av {
      background: var(--user-bubble);
      border: 1px solid var(--border);
      color: var(--accent);
    }

    .bubble {
      max-width: 72%;
      padding: 12px 16px;
      border-radius: 16px;
      font-size: 14.5px;
      line-height: 1.65;
    }

    .message.ai .bubble {
      background: var(--ai-bubble);
      border: 1px solid var(--border);
      border-top-left-radius: 4px;
      color: var(--text);
    }

    .message.user .bubble {
      background: var(--user-bubble);
      border: 1px solid rgba(160, 120, 255, 0.25);
      border-top-right-radius: 4px;
      color: var(--text);
    }

    .bubble strong { color: var(--accent); font-weight: 600; }
    .bubble em { color: var(--text-muted); font-style: normal; }

    /* Typing indicator */
    .typing {
      display: flex;
      gap: 12px;
      align-items: flex-start;
      animation: fadeUp 0.3s ease both;
    }

    .typing-dots {
      background: var(--ai-bubble);
      border: 1px solid var(--border);
      border-radius: 16px;
      border-top-left-radius: 4px;
      padding: 14px 18px;
      display: flex;
      gap: 5px;
      align-items: center;
    }

    .typing-dots span {
      width: 6px;
      height: 6px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0.4;
      animation: blink 1.2s infinite;
    }

    .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
    .typing-dots span:nth-child(3) { animation-delay: 0.4s; }

    @keyframes blink {
      0%, 80%, 100% { opacity: 0.4; transform: scale(1); }
      40% { opacity: 1; transform: scale(1.2); }
    }

    /* INPUT AREA */
    .input-area {
      padding: 16px 0 24px;
      flex-shrink: 0;
    }

    .input-wrapper {
      display: flex;
      align-items: flex-end;
      gap: 10px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 10px 10px 10px 16px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .input-wrapper:focus-within {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px var(--accent-glow);
    }

    #userInput {
      flex: 1;
      background: none;
      border: none;
      outline: none;
      color: var(--text);
      font-family: 'DM Sans', sans-serif;
      font-size: 14.5px;
      font-weight: 300;
      resize: none;
      max-height: 140px;
      min-height: 24px;
      line-height: 1.5;
    }

    #userInput::placeholder { color: var(--text-muted); }

    #sendBtn {
      width: 38px;
      height: 38px;
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      border: none;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: opacity 0.2s, transform 0.15s;
    }

    #sendBtn:hover { opacity: 0.9; transform: scale(1.05); }
    #sendBtn:active { transform: scale(0.96); }
    #sendBtn:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

    #sendBtn svg { width: 16px; height: 16px; fill: white; }

    .input-hint {
      text-align: center;
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 10px;
      opacity: 0.6;
    }
  </style>
</head>
<body>
<div class="layout">
  <header>
    <div class="logo">
      <div class="logo-mark">EV</div>
      <div class="logo-text">Efeito <span>VÃ­rgula</span></div>
    </div>
    <div class="header-tag">Consultor de Palestras</div>
  </header>

  <div class="chat-area" id="chatArea">
    <div class="welcome" id="welcome">
      <div class="welcome-icon">ðŸŽ¤</div>
      <h1>Encontre o palestrante <span>ideal</span></h1>
      <p>Sou seu consultor de palestras. Me conte sobre seu evento e vou sugerir os melhores palestrantes para o seu objetivo e orÃ§amento.</p>
      <div class="suggestion-chips">
        <div class="chip" onclick="sendChip(this)">Preciso de um palestrante de lideranÃ§a</div>
        <div class="chip" onclick="sendChip(this)">Evento corporativo em SÃ£o Paulo</div>
        <div class="chip" onclick="sendChip(this)">Quero sugestÃµes para SIPAT</div>
        <div class="chip" onclick="sendChip(this)">Palestrante motivacional atÃ© R$ 20.000</div>
      </div>
    </div>
  </div>

  <div class="input-area">
    <div class="input-wrapper">
      <textarea id="userInput" placeholder="Descreva seu evento ou faÃ§a uma pergunta..." rows="1"></textarea>
      <button id="sendBtn" onclick="sendMessage()">
        <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
      </button>
    </div>
    <p class="input-hint">Efeito VÃ­rgula Â· Consultoria de Palestras Corporativas</p>
  </div>
</div>

<script>
  // â”€â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  var SUPABASE_URL = 'https://jmgkaeiynkklbnkgwimb.supabase.co';
  var SUPABASE_KEY = 'sb_publishable_gdIe5v55isrPCHoXFqEuIw_FOPFBRvl';

  var EMAILJS_SERVICE  = 'service_m09nl3n';
  var EMAILJS_TEMPLATE = 'template_suld3q8';
  var EMAILJS_PUBLIC   = 'LGrr9Eg3a0LHS2tIg';

  const SYSTEM_PROMPT = `VocÃª Ã© um Consultor de Agendamento de Palestras da Efeito VÃ­rgula, uma agÃªncia especializada em palestrantes corporativos.
Seja profissional e objetivo. NÃ£o invente dados. NÃ£o pressione o cliente
Seu objetivo Ã© ajudar organizadores de eventos a encontrar o palestrante ideal e estruturar o pedido de forma profissional.

SOBRE OS PALESTRANTES:
VocÃª tem acesso a uma base com centenas de palestrantes brasileiros. Quando sugerir nomes, use os dados fornecidos. Se o palestrante nÃ£o estiver na base, sinalize que irÃ¡ atrÃ¡s do contato e valor do cachÃª, e mandarÃ¡ por email. Priorize os palestrantes da agÃªncia Efeito VÃ­rgula.

A Efeito VÃ­rgula Ã© uma House of Speakers que administra e orienta a carreira de palestrantes,
montando pacotes temÃ¡ticos personalizados para eventos. Com mais de 15 anos de experiÃªncia no
mercado, se diferencia pelo modelo de agenciamento integral â€” nÃ£o apenas vende palestras, mas dÃ¡
mentoria, melhora slides, storytelling, preÃ§os e cada detalhe da carreira dos seus palestrantes.
TambÃ©m oferece a Jornada do Palestrante, programa completo de formaÃ§Ã£o para quem quer entrar
no mercado.
A Efeito VÃ­rgula Ã© uma House of Speakers que administra e orienta a carreira de palestrantes,
montando pacotes temÃ¡ticos e personalizados para transformar eventos em momentos
extraordinÃ¡rios. SÃ£o parceiros dos maiores eventos do paÃ­s, oferecendo conteÃºdo personalizado dos
melhores palestrantes em suas Ã¡reas. Com mais de 15 anos de experiÃªncia no mercado de palestras,
nÃ£o sÃ³ vendem palestras â€” dÃ£o mentoria, ajudam a melhorar slides, storytelling, precificaÃ§Ã£o das
palestras, alÃ©m de cada detalhe envolvido nesse mercado.
Contato: palestras@efeitovirgula.com.br | WhatsApp: +55 47 99777-9277 Site:
https://www.efeitovirgula.com.br Instagram: @efeitovirgula | LinkedIn: /company/
efeitovirgula | YouTube: @efeitovirgula
Palestrantes exclusivos da Efeito VÃ­rgula:
â€¢ JoÃ£o Branco â€” Ex-VP de Marketing do McDonald's, 20+ anos em grandes marcas
â€¢ Jean Sigel â€” Fundador da Escola de Criatividade, certificado por Stanford
â€¢ Alice Bastos Neves â€” Jornalista do Globo Esporte, superaÃ§Ã£o e resiliÃªncia
â€¢ Beatriz Guarezi â€” Especialista em branding, TEDx Speaker, LinkedIn Top Voice
â€¢ Gustavo Arns â€” Mestre em Estudos da Felicidade, idealizador do Congresso Internacional
de Felicidade
â€¢ Marcos Piangers â€” 5x TEDx Speaker, meio bilhÃ£o de views, referÃªncia em conexÃ£o
humana
â€¢ Luciano Potter â€” Um dos maiores comunicadores do Sul do Brasil, especialista em escuta
â€¢ Arthur Gubert â€” Apresentador do podcast Caixa Preta, consultor de inovaÃ§Ã£o
â€¢ Ana Cardoso â€” Best seller, 4x TEDx Speaker, especialista em comunicaÃ§Ã£o e escrita
criativa
Diferenciais exclusivos:
â€¢ Pacotes temÃ¡ticos prontos (Marketing, InovaÃ§Ã£o, Felicidade, EducaÃ§Ã£o, Criatividade,
ComunicaÃ§Ã£o, Engajamento, Mulheres Empreendedoras, Workshop)
â€¢ ServiÃ§o de Mestre de CerimÃ´nias com palestrantes experientes em rÃ¡dio e TV
â€¢ Mentoria completa para palestrantes (preparaÃ§Ã£o de palestra, carreira e mercado, livro
autoral)
â€¢ Preparador de TEDx speakers com certificaÃ§Ã£o de Harvard no time (Biel Krieger)
Modelo de negÃ³cio: House of Speakers com agenciamento exclusivo + pacotes temÃ¡ticos +
mentoria e formaÃ§Ã£o de palestrantes.
Pontos fortes: Elenco curado e coeso com temas complementares, pacotes temÃ¡ticos prontos que
facilitam a decisÃ£o do cliente, mentoria completa para palestrantes, abordagem integral da carreira
dos agenciados.
PALESTRANTES 
JOÃƒO BRANCO Marketing cachÃª 70.000 a 90.000 reais
Tem mais de 20 anos de experiÃªncia em grandes marcas de diferentes mercados.
Como vice-presidente de marketing, liderou o time que fez o McDonald's virar
MÃ©qui e bater todos os recordes da histÃ³ria do Big Mac. Ã‰ uma referÃªncia
absoluta quando o assunto Ã© marketing, branding e construÃ§Ã£o de marcas que se
conectam com o pÃºblico.
JEAN SIGEL Criatividade cachÃª 15.000 a 25.000 reais
Um dos maiores especialistas de Criatividade no Brasil e fundador da Escola de
Criatividade. Autor dos livros "O melhor da vida, simples e de graÃ§a" e "O grande
livro da criatividade". Certificado em inovaÃ§Ã£o pela Universidade de Stanford
(EUA) e em FacilitaÃ§Ã£o pela Hyper Island. Suas palestras sÃ£o um convite prÃ¡tico
para abandonar padrÃµes ultrapassados e despertar o potencial criativo de
qualquer equipe.
ALICE BASTOS NEVES ResiliÃªncia cachÃª 20.000 a 30.000
reais
Jornalista Ã  frente do principal telejornal esportivo do Rio Grande do Sul, o Globo
Esporte. JÃ¡ cobriu OlimpÃ­adas e Copas do Mundo. Superou um cÃ¢ncer de mama e, com
muita leveza, fala sobre resiliÃªncia e comunicaÃ§Ã£o. Sua histÃ³ria pessoal de
superaÃ§Ã£o inspira plateias e mostra que Ã© possÃ­vel enfrentar os maiores desafios
com coragem e bom humor.
BEATRIZ GUAREZI Branding cachÃª 15.000 a 30.000 reais
Especialista em branding, criadora de conteÃºdo, TEDx Speaker e LinkedIn Top
Voice. HÃ¡ mais de 10 anos vive o branding todos os dias, de diferentes pontos de
vista. Como estrategista em uma das maiores consultorias do Brasil, contribuiu
com grandes marcas como XP INC., QuintoAndar, SBT, ItaÃº, Ãgua de Coco e
Burger King. Decodifica tendÃªncias e comportamentos nas redes sociais,
revelando o DNA das marcas mais admiradas. TambÃ©m oferece workshop sobre
marcas.
GUSTAVO ARNS Felicidade cachÃª 10.000 a 20.000 reais
Mestre em Estudos da Felicidade e Idealizador do Congresso Internacional de
Felicidade. AtravÃ©s de cursos e palestras, Gustavo mostra que quanto mais felizes
estamos, mais temos a chance de potencializar capacidades e talentos. Traz o
embasamento cientÃ­fico da felicidade aplicada ao ambiente corporativo e Ã  vida
pessoal. TambÃ©m oferece workshop sobre felicidade.
MARCOS PIANGERS ConexÃ£o Humana cachÃª 70.000 a 90.000 reais
JÃ¡ foi chamado de "Guru" pelo portal UOL e "FenÃ´meno da internet" pelo Jornal O
Globo. JÃ¡ palestrou para os maiores eventos e empresas do Brasil e nos palcos de
Portugal e Londres, alÃ©m de ser cinco vezes palestrante do TEDx, a maior
conferÃªncia de ideias do mundo. Seus vÃ­deos jÃ¡ alcanÃ§aram meio bilhÃ£o de
visualizaÃ§Ãµes na internet. Traduz o macro com seu olhar Ãºnico e otimista sobre o
amanhÃ£, reconectando pessoas com seu propÃ³sito.
LUCIANO POTTER Escuta e ComunicaÃ§Ã£o cachÃª 20.000 a 30.000 reais
Um dos mais celebrados comunicadores do Sul do Brasil, presenÃ§a constante nas
listas de nomes mais lembrados pelo pÃºblico. JÃ¡ entrevistou as principais
personalidades do paÃ­s no seu programa Timeline e no Podcast Potter Entrevista.
Fala sobre o impacto das transformaÃ§Ãµes tecnolÃ³gicas e a importÃ¢ncia da escuta
no ambiente familiar e nas empresas. Domina narrativas transformadoras e
fortalece laÃ§os atravÃ©s da escuta ativa.
ARTHUR GUBERT ComunicaÃ§Ã£o cachÃª 10.000 a 20.000 reais
Comunicador, empreendedor e inovador. Apresenta podcasts de sucesso
comercial e de grande audiÃªncia, incluindo o renomado Caixa Preta e o inspirador
NÃ³s na HistÃ³ria. AlÃ©m de sua presenÃ§a nos microfones, Ã© investidor nos
segmentos de educaÃ§Ã£o e alimentaÃ§Ã£o e consultor de inovaÃ§Ã£o estratÃ©gica para
empresas consolidadas em diversos mercados. Guia equipes na adaptaÃ§Ã£o Ã s
mudanÃ§as com metodologias prÃ¡ticas.
PACOTES TEMÃTICOS
A Efeito VÃ­rgula oferece pacotes temÃ¡ticos completos para montar o line-up
perfeito do seu evento. VocÃª escolhe o tema e nÃ³s montamos a combinaÃ§Ã£o ideal
de palestrantes.
PACOTE MARKETING
Palestrantes: JoÃ£o Branco + Beatriz Guarezi + Luciano Potter Uma combinaÃ§Ã£o
Ãºnica de visÃµes sobre o futuro do marketing: JoÃ£o Branco, um administrador que
revolucionou marcas globais; Beatriz Guarezi, uma especialista em branding
digital; e Luciano Potter, um comunicador que domina narrativas transformadoras.
TrÃªs perspectivas poderosas sobre o presente e o futuro das marcas, vendas e
conexÃµes com consumidores.
PACOTE INOVAÃ‡ÃƒO
Palestrantes: Beatriz Guarezi + Marcos Piangers + Luciano Potter Uma visÃ£o 360Â°
do futuro atravÃ©s de trÃªs expertises complementares: Beatriz Guarezi decodifica
tendÃªncias e comportamentos nas redes sociais; Marcos Piangers traduz o macro
com seu olhar Ãºnico e otimista sobre o amanhÃ£; e Luciano Potter conecta os
pontos atravÃ©s de histÃ³rias inspiradoras. Um mergulho profundo em inovaÃ§Ã£o,
tendÃªncias e oportunidades.
PACOTE MULHERES EMPREENDEDORAS
Palestrantes: Alice Bastos Neves + Beatriz Guarezi + Ana Cardoso Um trio
poderoso para mulheres que querem mais: Alice Bastos Neves inspira atravÃ©s de
sua jornada de superaÃ§Ã£o; Beatriz Guarezi compartilha estratÃ©gias comprovadas
de sucesso; e Ana Cardoso oferece ferramentas prÃ¡ticas de comunicaÃ§Ã£o. A
combinaÃ§Ã£o perfeita para mulheres que querem equilibrar mÃºltiplas jornadas sem
abrir mÃ£o dos sonhos.
PACOTE FELICIDADE
Palestrantes: Gustavo Arns + Alice Bastos Neves + Marcos Piangers Uma
experiÃªncia transformadora que une ciÃªncia e prÃ¡tica: Gustavo Arns traz o
embasamento cientÃ­fico da felicidade; Alice Bastos Neves compartilha ferramentas
testadas em sua prÃ³pria jornada; e Marcos Piangers revela insights profundos
sobre o que realmente importa. Um combo que prova: felicidade Ã© combustÃ­vel
para resultados extraordinÃ¡rios.
PACOTE EDUCAÃ‡ÃƒO
Palestrantes: Marcos Piangers + Jean Sigel + Arthur Gubert Um olhar
revolucionÃ¡rio sobre o futuro da educaÃ§Ã£o: Marcos Piangers apresenta a escola
que nossos filhos precisam; Jean Sigel revela como despertar a criatividade em
sala de aula; e Arthur Gubert traduz adaptabilidade em metodologias prÃ¡ticas. A
combinaÃ§Ã£o perfeita para instituiÃ§Ãµes que querem se reinventar.
PACOTE COMUNICAÃ‡ÃƒO
Palestrantes: Luciano Potter + Ana Cardoso + Arthur Gubert O antÃ­doto para
relaÃ§Ãµes superficiais e comunicaÃ§Ã£o ineficiente. Uma combinaÃ§Ã£o poderosa que
ensina a arte de contar histÃ³rias, ouvir genuinamente e criar conexÃµes atravÃ©s da
palavra escrita. Uma injeÃ§Ã£o de energia positiva para transformar todas as suas
interaÃ§Ãµes.
PACOTE ENGAJAMENTO DE FUNCIONÃRIOS
Palestrantes: Gustavo Arns + Marcos Piangers + Luciano Potter A resposta para
equipes desconectadas e desmotivadas: Gustavo Arns traz a ciÃªncia da felicidade
para o trabalho; Marcos Piangers reconecta pessoas com seu propÃ³sito; e
Luciano Potter fortalece laÃ§os atravÃ©s da escuta ativa. A chave para transformar
sua cultura organizacional.
PACOTE CRIATIVIDADE
Palestrantes: Marcos Piangers + Jean Sigel + Arthur Gubert A soluÃ§Ã£o definitiva
para quem quer abandonar velhos padrÃµes e abraÃ§ar a inovaÃ§Ã£o. Marcos Piangers
traz o olhar estratÃ©gico; Jean Sigel apresenta tÃ©cnicas prÃ¡ticas de criatividade; e
Arthur Gubert guia a adaptaÃ§Ã£o Ã s mudanÃ§as. Uma jornada completa da ideia Ã 
execuÃ§Ã£o.
PACOTE WORKSHOP
Palestrantes disponÃ­veis: Ana Cardoso (comunicaÃ§Ã£o) | Gustavo Arns (felicidade) |
Beatriz Guarezi (marcas) | Jean Sigel (criatividade) Se o intuito Ã© capacitar e deixar
a equipe repleta de novas ideias, este combo Ã© perfeito. Nossos palestrantes
compartilham suas ferramentas pessoais em prÃ¡ticas didÃ¡ticas para tornar as
equipes mais felizes, colaborativas, curiosas, criativas e repletas de seguranÃ§a
para se expressar melhor, seja por fala ou por escrito.
MESTRE DE CERIMÃ”NIAS
Palestrantes com muita experiÃªncia em rÃ¡dio e TV, acostumados com pÃºblico e
cÃ¢meras. Os holofotes sÃ£o a casa deles. Conte com brilho e naturalidade para
manter os participantes empolgados do comeÃ§o ao fim. Ideal para quem precisa
de alguÃ©m com energia, irreverÃªncia e muito carisma para conduzir o evento.


REGRAS OBRIGATÃ“RIAS:
1. Responda a primeira pergunta normalmente e em seguida peÃ§a um resumo do evento que o cliente estÃ¡ planejando, para poder indicar palestrantes.
2. Ao informar cachÃªs, cite sempre o valor mais alto disponÃ­vel no banco de dados, citando "em torno deâ€, e arredondando o nÃºmero para um nÃºmero cheio, terminado em zero.â€¨
3. Se o cliente ainda nÃ£o sinalizou o orÃ§amento que dispÃµe, priorize indicar palestrantes Premium e Super Premium.â€¨
4. NÃ£o faÃ§a perguntas que nÃ£o interessam para a CONFIRMAÃ‡ÃƒO DE ORÃ‡AMENTO: nome do cliente, nome da empresa, E-mail, Telefone, Data do evento, Local, Resumo do evento, Investimento previsto.â€¨
5. Se nÃ£o encontrar o valor do cachÃª no banco de dados, diga que irÃ¡ entrar em contato para descobrir e retornar por email (peÃ§a o email e todas as informaÃ§Ãµes para fazer a confirmaÃ§Ã£o de orÃ§amento)
6. Sempre que citar um palestrante ou agÃªncia, diga que tem o contato direto e pode negociar diretamente.
7. Nunca invente dados. Quando nÃ£o encontrar informaÃ§Ãµes no banco de dados, diga que irÃ¡ pesquisar e retornar por email.
8. Busque atender aos pedidos do cliente atÃ© que ele esteja satisfeito com os nomes propostos.â€¨
9. NÃ£o avance para a CONFIRMAÃ‡ÃƒO DE ORÃ‡AMENTO sem ter as informaÃ§Ãµes abaixo:
- Nome, empresa, e-mail e telefone do cliente
- Data (ou perÃ­odo estimado) do evento e local
- Resumo do evento
- Palestrante(s) desejado(s)
- OrÃ§amento disponÃ­vel

QUANDO TIVER TODAS AS INFORMAÃ‡Ã•ES, apresente:

ðŸ”Ž CONFIRMAÃ‡ÃƒO DE ORÃ‡AMENTO
Seu nome:
Empresa:
E-mail:
Telefone:
Data do evento:
Local:
Resumo do evento:
Investimento previsto:

Depois escreva: "Por favor, revise as informaÃ§Ãµes. Se estiver tudo correto, responda **CONFIRMO** para que possamos seguir com a formalizaÃ§Ã£o."

QUANDO O CLIENTE RESPONDER "CONFIRMO":
Responda exatamente: "Perfeito. Agora Ã© comigo â€” vou atrÃ¡s do seu orÃ§amento completo e te mando e-mail assim que estiver tudo pronto. ðŸŽ¯"

Em seguida, internamente, acione o envio do e-mail com o resumo. Para isso, inclua no final da sua resposta o marcador especial: ##SEND_EMAIL##[RESUMO COMPLETO AQUI]##END_EMAIL##`;

  // â”€â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  var sbClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
  emailjs.init(EMAILJS_PUBLIC);

  let history = [];
  let speakerCache = null;

  // â”€â”€â”€ LOAD SPEAKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function loadSpeakers() {
    if (speakerCache) return speakerCache;
    var qResult = await sbClient
      .from('Palestrantes')
      .select('Nome, "Mini Bio", "Temas/Categorias", "CachÃª", Instagram, LinkedIn, "AgÃªncia(s)", "URL Perfil"');
    if (qResult.error) { console.error('Supabase error:', qResult.error); return []; }
    speakerCache = qResult.data;
    return speakerCache;
  }

  // Simple keyword search over speakers
  function searchSpeakers(query, speakers) {
    if (!speakers || !query) return [];
    const q = query.toLowerCase();
    return speakers.filter(s =>
      (s['Nome'] || '').toLowerCase().includes(q) ||
      (s['Temas/Categorias'] || '').toLowerCase().includes(q) ||
      (s['Mini Bio'] || '').toLowerCase().includes(q)
    ).slice(0, 8);
  }

  // Extract keywords from conversation for search
  function extractKeywords(messages) {
    const text = messages.map(m => m.parts[0].text).join(' ').toLowerCase();
    const keywords = [];
    const topics = ['lideranÃ§a', 'motivaÃ§Ã£o', 'inovaÃ§Ã£o', 'vendas', 'saÃºde', 'tecnologia',
      'diversidade', 'sustentabilidade', 'futebol', 'esporte', 'finanÃ§as', 'comunicaÃ§Ã£o',
      'sipat', 'seguranÃ§a', 'gestÃ£o', 'cultura', 'empreendedorismo', 'ia', 'inteligÃªncia artificial'];
    topics.forEach(t => { if (text.includes(t)) keywords.push(t); });
    return keywords;
  }

  // â”€â”€â”€ OPENROUTER CALL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function callAI(userMessage) {
    const speakers = await loadSpeakers();
    const keywords = extractKeywords([...history, { parts: [{ text: userMessage }] }]);
    
    let speakerContext = '';
    if (keywords.length > 0) {
      const results = [];
      keywords.forEach(k => {
        const found = searchSpeakers(k, speakers);
        found.forEach(s => { if (!results.find(r => r.Nome === s.Nome)) results.push(s); });
      });
      if (results.length > 0) {
        speakerContext = '\n\nPALESTRANTES RELEVANTES DA BASE:\n' +
          results.map(s => {
            const cache = s['CachÃª'] || 'CachÃª nÃ£o informado';
            return `â€¢ ${s.Nome} | Temas: ${s['Temas/Categorias'] || '-'} | CachÃª original: ${cache} | Bio: ${(s['Mini Bio'] || '').substring(0, 200)}...`;
          }).join('\n');
      }
    }

    const systemWithContext = SYSTEM_PROMPT + speakerContext;


    const res = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        system: systemWithContext,
        messages: [
          ...history.map(h => ({ role: h.role === 'model' ? 'assistant' : h.role, content: h.parts[0].text })),
          { role: 'user', content: userMessage }
        ]
      })
    });

    const json = await res.json();
    if (!res.ok) throw new Error(json.error || 'API error');
    return json.content || 'Desculpe, nÃ£o consegui gerar uma resposta.';
  }

  // â”€â”€â”€ EMAIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function sendEmail(summary) {
    try {
      await emailjs.send(EMAILJS_SERVICE, EMAILJS_TEMPLATE, {
        message: summary,
        to_email: 'palestras@efeitovirgula.com.br'
      });
      console.log('Email enviado com sucesso');
    } catch (e) {
      console.error('Erro ao enviar email:', e);
    }
  }

  // â”€â”€â”€ UI HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const chatArea = document.getElementById('chatArea');
  const welcome  = document.getElementById('welcome');
  const input    = document.getElementById('userInput');
  const sendBtn  = document.getElementById('sendBtn');

  function removeWelcome() {
    if (welcome && welcome.parentNode) welcome.remove();
  }

  function appendMessage(role, text) {
    removeWelcome();
    const div = document.createElement('div');
    div.className = `message ${role}`;
    const av = document.createElement('div');
    av.className = `avatar ${role === 'user' ? 'user-av' : 'ai'}`;
    av.textContent = role === 'user' ? 'V' : 'EV';
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    bubble.innerHTML = formatText(text);
    div.appendChild(av);
    div.appendChild(bubble);
    chatArea.appendChild(div);
    chatArea.scrollTop = chatArea.scrollHeight;
    return div;
  }

  function showTyping() {
    removeWelcome();
    const div = document.createElement('div');
    div.className = 'typing';
    div.id = 'typing';
    div.innerHTML = `
      <div class="avatar ai">EV</div>
      <div class="typing-dots"><span></span><span></span><span></span></div>`;
    chatArea.appendChild(div);
    chatArea.scrollTop = chatArea.scrollHeight;
  }

  function hideTyping() {
    const t = document.getElementById('typing');
    if (t) t.remove();
  }

  function formatText(text) {
    return text
      .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
      .replace(/##SEND_EMAIL##[\s\S]*?##END_EMAIL##/g, '')
      .replace(/\n/g, '<br>');
  }

  // â”€â”€â”€ SEND MESSAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  window.sendMessage = async function() {
    const text = input.value.trim();
    if (!text || sendBtn.disabled) return;

    input.value = '';
    input.style.height = 'auto';
    sendBtn.disabled = true;

    appendMessage('user', text);
    showTyping();

    try {
      const response = await callAI(text);

      // Check for email trigger
      const emailMatch = response.match(/##SEND_EMAIL##([\s\S]*?)##END_EMAIL##/);
      if (emailMatch) {
        await sendEmail(emailMatch[1].trim());
      }

      hideTyping();
      const cleanResponse = response.replace(/##SEND_EMAIL##[\s\S]*?##END_EMAIL##/, '').trim();
      appendMessage('ai', cleanResponse);

      // Update history
      history.push({ role: 'user', parts: [{ text }] });
      history.push({ role: 'model', parts: [{ text: cleanResponse }] });

    } catch (err) {
      hideTyping();
      appendMessage('ai', 'Ops, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.');
      console.error(err);
    }

    sendBtn.disabled = false;
    input.focus();
  }

  window.sendChip = function(chip) {
    input.value = chip.textContent;
    sendMessage();
  }

  // Auto-resize textarea
  input.addEventListener('input', () => {
    input.style.height = 'auto';
    input.style.height = Math.min(input.scrollHeight, 140) + 'px';
  });

  input.addEventListener('keydown', e => {
    if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); }
  });
</script>
</body>
</html>
